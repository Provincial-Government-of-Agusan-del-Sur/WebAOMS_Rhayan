
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .zdex {
        z-index: 500;
    }

    .modal-dialog-full {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
    }

    .modal-content-full {
        height: auto;
        min-height: 100%;
        border-radius: 0;
    }
</style>

@{
    ViewBag.Title = "Supporting Document Collection";
    ViewBag.Title_mini = "Payroll Document Collection";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    @@media (min-width: 768px) {
        .modal-xl {
            width: 90%;
            max-width: 1200px;
        }
    }
</style>

<div class="box">
    <div class="box-head">
        <header>
            <h4 class="text-bold">@ViewBag.Title_mini</h4>
        </header>
        <div class="tools">
            <div class="btn-group ">
                <a class="btn btn-equal btn-sm btn-refresh"><i class="fa fa-refresh"></i></a>
                <a class="btn btn-equal btn-sm btn-collapse"><i class="fa fa-angle-down"></i></a>
            </div>
        </div>
        <hr />
    </div>
    <div class="box-body">
        <div class="col-md-6">
            <input id="txt_defaultjevdate" type="text" hidden />
            <div class="row">

                <div class="box-body no-padding" style="min-width:350px!important">
                    <div class="form-group-md col-md-12 no-padding">
                        <script>
                            var mg = new mgsInfo()
                            function changeoffice() {
                                var gridData = $("#grid_list_employee").data("kendoGrid");
                                gridData.dataSource.read();
                            }
                        </script>
                    </div>
                    <div class="col-lg-6 no-padding">
                        <div class="col-lg-12 no-padding">
                            Payroll Period
                        </div>
                        <div class="col-lg-12 no-padding" style="padding-bottom:10px!important">
                            @(Html.Kendo().DatePicker()
                            .Name("dp_period")
                            .Format("MMMM yyyy")
                            .Value(System.DateTime.Now)
                            .Start(CalendarView.Year)
                            .Depth(CalendarView.Year)
                            .HtmlAttributes(new { type = "text" })
                            )

                        </div>
                    </div>

                    <div class="form-group col-md-12 no-padding">
                        <div class="box-head">
                            <h5 class="text-light"><strong>Select Office</strong> </h5>
                        </div>
                        <div >
                            @(Html.Kendo().ComboBox()
                            .Name("SearchOffices")
                            .Placeholder("Select Office Name ...")
                            .HtmlAttributes(new { style = "width:100%; text-align:left;" })
                            .DataTextField("txt")
                            .DataValueField("val")
                            .AutoBind(true)
                            .Filter("contains")
                            .DataSource(source =>
                            {
                                source.Read(read =>
                                {
                                    read.Action("loand_payrollOffice", "Payroll");
                                });
                            })
                            .Events(ev => ev.Change("changeoffice")))
                        </div>
                    </div>
                   
                   
                </div>

            </div>
        </div>
        <hr />

    </div>
</div>


<div class="box">
    <div class="box-head" style="border-bottom:1px solid #e8e8e8">
        <header>
            <h4 class="text-bold">@ViewBag.Title_mini</h4>
        </header>
        <div class="tools">
            <div class="btn-group ">
                <a class="btn btn-equal btn-sm btn-refresh"><i class="fa fa-refresh"></i></a>
                <a class="btn btn-equal btn-sm btn-collapse"><i class="fa fa-angle-down"></i></a>
                <a class="btn btn-equal btn-sm btn-close"><i class="fa fa-times"></i></a>
            </div>
        </div>
    </div>
    <div class="box-body" style="padding-top:10px">
        <script>
            function para_coa (){
                return { IS_id: $("#dp_is_name").data("kendoDropDownList").value() }
            }

            function r_grid() {
                var grid = $("#grid_tracking_form").data("kendoGrid");
                grid.dataSource.read();
            }

        </script>
        <div class="row">
            @(Html.Kendo().Grid<WebAOMS.Models.ufn_grid_tracking_list_Result>()
            .Name("grid_tracking_form")
            .Columns(columns =>
            {
            //columns.Bound(m => m.doc_form_id).Title("Transation No").Width(100);
            columns.Bound(m => m.refno).Title("Tracking Reference").Format("{0:n2}").Width(150).HtmlAttributes(new { style = "font-family:Courier New!important;text-align:center" });
            columns.Bound(m => m.NameFML).Title("Liaison Officer").Width(150);
            columns.Bound(m => m.Particular).Width(400);
            columns.Bound(m => m.Status_name).Title("Log Status").Width(200);
            columns.Bound(m => m.remarks).Title("Remarks").Width(150);
            //columns.Bound(m => m.GAmount).Title("Gross Amount").Format("{0:n2}").Width(100);

            columns.Bound(m => m.DTE).Title("Date").Title("Date of Last Status").Width(150);
            columns.Template(@<text></text>)
            .Width(80)
            .HtmlAttributes(new { style = "text-align:left;font-size:10" })
            .ClientTemplate("<button data-toggle=\"tooltip\" data-placement=\"top\" type=\"button\" data-original-title=\"Edit tracking\" onclick=\"addnew(#=doc_form_id#)\" class=\"btn btn-xs btn-inverse btn-equal\" style=\"margin-right:2px\"><i class=\"fa fa-pencil\"></i></button><button data-original-title=\"recompute\" type=\"button\" onclick=\"print_tracking('#=refno#')\" class=\"btn btn-xs btn-inverse btn-equal\" style=\"margin-right:2px\"><i class=\"fa fa-print\"></i></button>");
            })
            .HtmlAttributes(new { style = "height: 350px;" })
            .Scrollable()
            .Sortable()
            .Pageable(pageable => pageable
            .Refresh(true)
            .ButtonCount(5))
            //.Filterable(ftb => ftb.Mode(GridFilterMode.Row))
            .Reorderable(reorder => reorder.Columns(true)) // Enable row reordering
            .DataSource(dataSource => dataSource
            .Ajax()
            .Read(read => read.Action("data_grid_tracking_list", "Document"))
            .PageSize(200)
        )
            )
        </div>
    </div>
    <div class="box-footer">
        <div class="btn-group" style="padding-left:10px;padding-bottom:10px;">
            <button onclick="addnew(0)" type="button" class="btn btn-default"><i class="fa fa-plus"></i> Add New</button>
        </div>
    </div>
</div>

