
@{
    ViewBag.Title = "Journals";
    ViewBag.Title_mini = "JOURNALS";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    @@media (min-width: 768px) {
        .modal-xl {
            width: 90%;
            max-width: 1200px;
        }
    }
</style>


<div class="box">
    <div class="box-head">
        <header>
            <h4 class="text-bold">@ViewBag.Title_mini</h4>
        </header>
        <div class="tools">
            <div class="btn-group ">
                <a class="btn btn-equal btn-sm btn-refresh"><i class="fa fa-refresh"></i></a>
                <a class="btn btn-equal btn-sm btn-collapse"><i class="fa fa-angle-down"></i></a>
            </div>
        </div>
        <hr />
    </div>
    <div class="box-body">
        <div class="col-md-12">
            <input id="txt_defaultjevdate" value="January, 2019" type="text" hidden />
            <div class="row">

                <div class="box-body no-padding" style="min-width:350px!important">

                    <div class="form-group-md col-md-12 no-padding">
                        <div class="box-head">
                            <h5 class="text-light"><strong>Select Journal Type</strong> </h5>
                        </div>
                        <div class="input-group no-padding">
                            <div data-toggle="buttons">
                                <label class="btn radio-inline btn-radio-success-inverse">
                                    <input name="journalTypeOption" id="journalTypeOption1" value="1" type="radio">Cash Receipts
                                </label>
                                <label class="btn radio-inline btn-radio-success-inverse">
                                    <input name="journalTypeOption" id="journalTypeOption2" value="2" type="radio">Check Disbursement
                                </label>
                                <label class="btn radio-inline btn-radio-success-inverse">
                                    <input name="journalTypeOption" id="journalTypeOption3" value="3" type="radio">Cash Disbursement
                                </label>
                                <label class="btn radio-inline btn-radio-success-inverse">
                                    <input name="journalTypeOption" id="journalTypeOption4" value="4" type="radio"> General Journal
                                </label>
                                <label class="btn radio-inline btn-radio-success-inverse">
                                    <input name="journalTypeOption" id="journalTypeOption5" value="5" type="radio"> Procurement Receipts
                                </label>
                                <label class="btn radio-inline btn-radio-success-inverse">
                                    <input name="journalTypeOption" id="journalTypeOption6" value="6" type="radio"> ADA Disbursement
                                </label>
                                <input id="journalTypeOptionID" value="1" hidden />
                                <script>
                                $(function () {
                                    $('input[name="journalTypeOption"]').bind('change', function () {
                                        $("#journalTypeOptionID").val($(this).val())
                                        $('.hideoptiondiv').hide();
                                        $("#journalType-" + $(this).val()).show();
                                        //rgrid_trans_account();
                                    });
                                });
                                </script>
                            </div>
                        </div>

                        @*<div class="input-group no-padding">
                                <div data-toggle="buttons">
                                    <label id="lblcheck_Adjustment" class="btn checkbox-inline btn-checkbox-primary-inverse">
                                        <input id="chck_Adjustment" type="checkbox">Adjustment
                                    </label>
                                </div>
                            </div>*@
                        @*<div class="col-md-8">
                                <div class="col-md-12" style="padding-top:10px">
                                    <button onclick="new_entry()" class="btn btn-default pull-right"> <i class="fa fa-trash"></i> Delete</button>
                                    <button onclick="btn_save_transaction()" class="btn btn-success pull-right"> <i class="fa fa-save"></i> Save Changes</button>
                                    <button onclick="new_entry()" class="btn btn-default pull-right"> <i class="fa fa-plus"></i> Add Account</button>

                                </div>
                            </div>*@

                        <script>
                            var mg = new mgsInfo()

                            $('#txt_dvno').on('keydown', function (e) {
                                if (e.keyCode == 13) {

                                    view_jev_details()
                                }
                            })

                            function print_journal() {
                                var date = kendo.toString($('#dtp_to').data('kendoDatePicker').value(), 'MM/dd/yyyy').toString();
                                var fundid = $('#dp_fundtype').data('kendoDropDownList').value()
                                startSpin()
                                $.post('@Url.Content("~/Journals/print_Journal")', { journalType: $("#journalTypeOptionID").val(), fundid: fundid, date: date }
                                    , function (r) {
                                        stopSpin()
            
                                    })
                            }

                            function print_recap() {
                                var date = kendo.toString($('#dtp_to').data('kendoDatePicker').value(), 'MM/dd/yyyy').toString();
                                var fundid = $('#dp_fundtype').data('kendoDropDownList').value()
                                startSpin()
                                $.post('@Url.Content("~/Journals/print_recap")', { journalType: $("#journalTypeOptionID").val(), fundid: fundid, date: date,isConso:1 }
                                    , function (r) {
                                        stopSpin()

                                    })
                            }

                        </script>
                    </div>

                    <div class="form-group col-md-12 no-padding">
                        <div class="box-head">
                            <h5 class="text-light"><strong>Select Fund Type:</strong> </h5>
                        </div>
                        <div class="col-md-12 no-padding">
                            @(Html.Kendo().DropDownList()
                              .Name("dp_fundtype")
                              .DataTextField("FundName")
                              .DataValueField("FundID")
                              .DataSource(source =>
                              {
                                  source.Read(read =>
                                  {
                                      read.Action("DataSource_Getfundtype", "Journals");
                                  });
                              })
                              //.Events(e=> e.Change("rgrid_trans_account")

                              //)
                              .HtmlAttributes(new { style = "width: 100%;max-width:500px!important" })
                            )
                        </div>
                    </div>
                    <div class="col-lg-6 no-padding">
                        <div class="col-lg-12 no-padding">
                            Date
                        </div>
                        <div class="col-lg-12 no-padding" style="padding-bottom:10px!important">
                            @(Html.Kendo().DatePicker()
                            .Name("dtp_to")
                            .Format("MMMM yyyy")
                            .Value(ViewBag.dateJournal)
                            .Start(CalendarView.Year)
                            .Depth(CalendarView.Year)
                            .HtmlAttributes(new { type = "text" })
                            )
                            @*<button class="btn btn-equal" onclick="refrehGrid()" type="button"><i class="fa fa-search"></i></button>*@
                        </div>

                    </div>
                    <div class="col-lg-12 no-padding" style="padding-top:10px">
                        <button class="btn btn-default" onclick="print_journal()" type="button"><i class="fa fa-print"></i> Journal</button>
                        <button class="btn btn-default" onclick="print_recap()" type="button"><i class="fa fa-print"></i> Recap</button>
                    </div>
                </div>

            </div>
        </div>
        <hr />

    </div>
</div>

