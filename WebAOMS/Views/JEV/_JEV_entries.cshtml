
@{
    ViewBag.Title = "SL Buildup";
    Layout = null;
    ViewBag.Title_mini = "Subsidiary Ledger Buildup";
}
<div class="box">
    <div class="box-body" style="padding-top:10px">
        <div class="row">
            <div class="col-md-8">

            </div>
            <div class="col-md-4">
                <div class="input-group" style="padding-bottom:5px!important">
                    <input id="txt_search_account" type="text" class="form-control navbar-input" placeholder="Search Account code or account name">
                    <span class="input-group-btn">
                        <button class="btn btn-equal" type="button"><i class="fa fa-search"></i></button>
                    </span>
                </div>
            </div>

            </div>
        <script>
            $('#txt_search_account').on('keyup', function (e) {
                var gridData = $("#grid_COA").data("kendoGrid");
                //if (e.keyCode == 13) {
                    if ($('#txt_search_account').val() == "") {
                        gridData.dataSource.filter({});
                    }
                    else {
                        ISfn.applyFilter("AccountFullName", $('#txt_search_account').val(), 'grid_COA')
                        gridData.dataSource.sort({ field: "AccountFullName", dir: "asc" });
                    }
                //}
            })
            //function addAccount(gridto,gridfrom,ChartAccountChildID,AccountChildName,code) {
            //    alert(ChartAccountChildID)
            //}

            function addEntries(ChartAccountChildID) {
                //$("#mdl_jev_entries").modal("hide");
                edit_subentries(ChartAccountChildID)
            }
            function para_coa (){
                return { journalType: $("#jtypeOptionID").val() }
            }
        </script>
        <div class="row">
        @(Html.Kendo().Grid<WebAOMS.Models.tbl_l_ChartOfAccountsChild>()
        .Name("grid_COA")
        .Columns(columns =>
        {
            columns.Template(@<text></text>)
            .Title("Account Code")
            .Width(100)
            .HtmlAttributes(new { style = "text-align:left" })
            .HeaderHtmlAttributes(new { style = "text-align:center" })
            .ClientTemplate("<div onclick=\"addEntries('#=ChartAccountChildID#')\"  style=\"width:100% !important;cursor:pointer;\" ><i title=\"Add for payroll generation\" style=\"font-size:15px;cursor:pointer;color:green\" class=\"fa fa-plus fa-lg\"> </i>  #=code#</div>");
            columns.Bound(m => m.AccountChildName).Width(450);
            })
        .AutoBind(true)
        .HtmlAttributes(new { style = "height: 350px;" })
        .Scrollable()
        .Sortable()
        .Pageable(pageable => pageable
        .Refresh(true)
        .ButtonCount(5))
        .DataSource(dataSource => dataSource
            .Ajax()
            .Read(read => read.Action("grid_coa", "JEV").Data("para_coa"))
            .PageSize(200)
        )
            )
        </div>
    </div>
</div>



